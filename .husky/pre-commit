#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔧 Running Prettier on frontend files (excluding ignored files)..."
npx prettier --write --list-different --ignore-path .prettierignore .

echo "🔍 Running frontend lint checks..."
npm run lint

echo "🧹 Running gofmt on Go files..."
find . -type f -name '*.go' -not -path "./vendor/*" | xargs gofmt -w

echo "🧪 Running backend tests..."
cd backend
go test ./... -v

echo "✅ All pre-commit checks passed."
